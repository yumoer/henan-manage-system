(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["table"],{"0550":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{background:"#fff"}},[a("div",[a("el-row",[a("el-col",{staticStyle:{height:"120px","line-height":"120px"},attrs:{span:20}},[a("div",{staticClass:"grid-content bg-purple"},[a("div",{staticClass:"demo-image"},[a("div",{staticClass:"block"},[a("el-image",{staticStyle:{width:"80px",height:"80px",padding:"20px",float:"left"},attrs:{src:e.url,"preview-src-list":e.srcList}}),a("div",{staticStyle:{"font-size":"12px","line-height":"26px",padding:"20px 0"}},[a("div",[e._v("型号名称："+e._s(e.row.xhmc))]),a("div",[e._v("品目名称："+e._s(e.row.pmmc))]),a("div",[e._v("品目编号："+e._s(e.row.pmbh))])])],1)])])]),e.showRight?a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple-light"},[a("div",{staticStyle:{"margin-top":"50px"}},[a("el-button",{staticStyle:{"margin-right":"50px",float:"right"},attrs:{type:"primary"},on:{click:e.showQuotations}},[e._v("商品报价")])],1)])]):e._e()],1)],1),a("div",{staticStyle:{padding:"0 20px"}},[a("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"参数信息",name:"first"}},[a("div",[a("el-row",{staticStyle:{"font-size":"16px"}},[a("el-col",{attrs:{span:24}},[a("div",{staticStyle:{"border-left":"3px solid #333",display:"inline"}}),a("span",{staticClass:"grid-content bg-purple-dark",staticStyle:{margin:"0 5px"}},[e._v("基本信息")]),a("i",{staticClass:"el-icon-lx-edit"})])],1),a("el-row",{staticStyle:{"font-size":"13px","line-height":"40px",color:"#666","margin-top":"20px"}},[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content bg-purple",staticStyle:{"padding-left":"80px"}},[a("div",[e._v("品目名称："+e._s(e.row.pmmc))]),a("div",[e._v("型号名称："+e._s(e.row.xhmc))]),a("div",[e._v("品牌名称："+e._s(e.row.ppmc))]),a("div",[e._v("类别名称："+e._s(e.row.lbmc))])])]),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content bg-purple-light",staticStyle:{"padding-left":"80px"}},[a("div",[e._v("品目编号："+e._s(e.row.pmbh))]),a("div",[e._v("型号编号："+e._s(e.row.xhbh))]),a("div",[e._v("品牌编号："+e._s(e.row.ppbh))]),a("div",[e._v("类别编号："+e._s(e.row.lbbh))])])])],1)],1),1===e.id&&e.row.parametersList.length>0?a("div",[a("el-row",{staticStyle:{"font-size":"16px"}},[a("el-col",{attrs:{span:24}},[a("div",{staticStyle:{"border-left":"3px solid #333",display:"inline"}}),a("div",{staticClass:"grid-content bg-purple-dark",staticStyle:{display:"inline",margin:"0 5px"}},[e._v("参数信息")]),a("i",{staticClass:"el-icon-lx-edit"})])],1),a("el-row",{staticStyle:{"font-size":"13px","line-height":"40px",color:"#666","margin-top":"20px"}},e._l(e.row.parametersList,(function(t,s){return a("el-col",{key:s,attrs:{span:12}},[a("div",{staticClass:"grid-content bg-purple",staticStyle:{"padding-left":"80px"}},[null!==t.csz?a("div",[e._v(e._s(t.cssm)+"："+e._s(t.csz))]):e._e()])])})),1)],1):e._e(),2===e.id&&e.parametersList.length>0?a("div",[a("el-row",{staticStyle:{"font-size":"16px"}},[a("el-col",{attrs:{span:24}},[a("div",{staticStyle:{"border-left":"3px solid #333",display:"inline"}}),a("div",{staticClass:"grid-content bg-purple-dark",staticStyle:{display:"inline",margin:"0 5px"}},[e._v("参数信息")]),a("i",{staticClass:"el-icon-lx-edit"})])],1),a("el-row",{staticStyle:{"font-size":"13px","line-height":"40px",color:"#666","margin-top":"20px"}},e._l(e.parametersList,(function(t,s){return a("el-col",{key:s,attrs:{span:12}},[a("div",{staticClass:"grid-content bg-purple",staticStyle:{"padding-left":"80px"}},[null!==t.CSZ?a("div",[e._v(e._s(t.CSSM)+"："+e._s(t.CSZ))]):e._e()])])})),1)],1):e._e()]),a("el-tab-pane",{attrs:{label:"配件信息",name:"second"}},[a("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:e.tableData1,border:"","header-cell-class-name":"table-header"}},[a("el-table-column",{attrs:{prop:"RN",label:"序号",width:"55",align:"center"}}),a("el-table-column",{attrs:{label:"品目名称",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.row.pmmc))]}}])}),a("el-table-column",{attrs:{prop:"pmnh",label:"品目编号",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.row.pmbh))]}}])}),a("el-table-column",{attrs:{prop:"PJMC",label:"配件名称",align:"center"}}),a("el-table-column",{attrs:{prop:"PJBH",label:"配件编号",align:"center"}}),a("el-table-column",{attrs:{prop:"PJMS",label:"配件描述",align:"center"}}),a("el-table-column",{attrs:{prop:"mxmc",label:"明细名称",align:"center"}}),a("el-table-column",{attrs:{prop:"mxsl",label:"明细数量",align:"center"}}),a("el-table-column",{attrs:{label:"操作",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",icon:"el-icon-lx-attention"},on:{click:function(a){return e.shopQuotations(t.$index,t.row,1)}}},[e._v("报价")])]}}])})],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next","current-page":e.query.pageIndex,"page-size":e.query.pageSize,total:e.pageTotal1},on:{"current-change":e.handlePageChange}})],1)],1),a("el-tab-pane",{attrs:{label:"服务信息",name:"third"}},[a("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:e.tableData2,border:"","header-cell-class-name":"table-header"}},[a("el-table-column",{attrs:{prop:"RN",label:"序号",width:"55",align:"center"}}),a("el-table-column",{attrs:{label:"品目名称",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.row.pmmc))]}}])}),a("el-table-column",{attrs:{label:"品目编号",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.row.pmbh))]}}])}),a("el-table-column",{attrs:{prop:"FWMC",label:"服务名称",align:"center"}}),a("el-table-column",{attrs:{prop:"FWMX",label:"服务明细",align:"center"}}),a("el-table-column",{attrs:{label:"状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return"1"===t.row.ZT?[e._v("启用")]:void 0}}],null,!0)}),a("el-table-column",{attrs:{prop:"FWJG",label:"服务价格",align:"center"}}),a("el-table-column",{attrs:{label:"操作",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",icon:"el-icon-lx-attention"},on:{click:function(a){return e.shopQuotations(t.$index,t.row,2)}}},[e._v("报价")])]}}])})],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next","current-page":e.query.pageIndex,"page-size":e.query.pageSize,total:e.pageTotal2},on:{"current-change":e.handlePageChange}})],1)],1)],1)],1),a("el-dialog",{attrs:{title:"商品报价",visible:e.quotedItems,width:"30%"},on:{"update:visible":function(t){e.quotedItems=t}}},[a("el-form",{ref:"shopPrice",attrs:{rules:e.rules,model:e.shopPrice,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"报价金额",prop:"sjjg"}},[a("el-input",{attrs:{placeholder:"请输入报价金额"},model:{value:e.shopPrice.sjjg,callback:function(t){e.$set(e.shopPrice,"sjjg",t)},expression:"shopPrice.sjjg"}})],1),a("el-form-item",{attrs:{label:"商品地址",prop:"productlink"}},[a("el-input",{attrs:{placeholder:"请输入商品在自有网站的的绝对地址"},model:{value:e.shopPrice.productlink,callback:function(t){e.$set(e.shopPrice,"productlink",t)},expression:"shopPrice.productlink"}})],1),a("el-form-item",{attrs:{label:"服务承诺",prop:"fwcn"}},[a("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入服务承诺"},model:{value:e.shopPrice.fwcn,callback:function(t){e.$set(e.shopPrice,"fwcn",t)},expression:"shopPrice.fwcn"}})],1),a("el-form-item",{attrs:{label:"价格上浮原因",prop:"jgsfyy"}},[a("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入价格上浮原因"},model:{value:e.shopPrice.jgsfyy,callback:function(t){e.$set(e.shopPrice,"jgsfyy",t)},expression:"shopPrice.jgsfyy"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.saveEdit("shopPrice")}}},[e._v("提 交")])],1)],1),a("el-dialog",{attrs:{title:"配件报价",visible:e.quotedItems1,width:"30%"},on:{"update:visible":function(t){e.quotedItems1=t}}},[a("el-form",{ref:"shopPrice1",attrs:{rules:e.rules1,model:e.shopPrice1,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"配件报价",prop:"pjjg"}},[a("el-input",{attrs:{placeholder:"请输入配件报价"},model:{value:e.shopPrice1.pjjg,callback:function(t){e.$set(e.shopPrice1,"pjjg",t)},expression:"shopPrice1.pjjg"}})],1),a("el-form-item",{attrs:{label:"修改报价原因",prop:"bjyy"}},[a("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入价格上浮原因"},model:{value:e.shopPrice1.bjyy,callback:function(t){e.$set(e.shopPrice1,"bjyy",t)},expression:"shopPrice1.bjyy"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.saveEdit1("shopPrice1")}}},[e._v("提 交")])],1)],1),a("el-dialog",{attrs:{title:"服务报价",visible:e.quotedItems2,width:"30%"},on:{"update:visible":function(t){e.quotedItems2=t}}},[a("el-form",{ref:"shopPrice2",attrs:{rules:e.rules2,model:e.shopPrice2,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"服务报价",prop:"fwjg"}},[a("el-input",{attrs:{placeholder:"请输入服务报价"},model:{value:e.shopPrice2.fwjg,callback:function(t){e.$set(e.shopPrice2,"fwjg",t)},expression:"shopPrice2.fwjg"}})],1),a("el-form-item",{attrs:{label:"修改报价原因",prop:"bjyy"}},[a("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入价格上浮原因"},model:{value:e.shopPrice2.bjyy,callback:function(t){e.$set(e.shopPrice2,"bjyy",t)},expression:"shopPrice2.bjyy"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.saveEdit2("shopPrice2")}}},[e._v("提 交")])],1)],1)],1)},l=[],r=a("365c"),n={props:["row","id"],data:function(){return{activeName:"first",showRight:!0,parametersList:[],quotedItems:!1,quotedItems1:!1,quotedItems2:!1,url:"https://fuss10.elemecdn.com/e/5d/4a731a90594a4af544c0c25941171jpeg.jpeg",srcList:["https://fuss10.elemecdn.com/8/27/f01c15bb73e1ef3793e64e6b7bbccjpeg.jpeg"],shopPrice:{sjjg:null,fwcn:"",productlink:"",jgsfyy:""},shopPrice1:{pjbh:"",pjmc:"",pjbj:null,bjyy:""},shopPrice2:{fwbh:"",fwmc:"",zt:"",fwbj:null,bjyy:""},rules:{sjjg:[{required:!0,message:"请输入报价金额",trigger:"blur"}],productlink:[{required:!0,message:"请输入商品地址",trigger:"blur"}]},rules1:{pjjg:[{required:!0,message:"请输入配件报价",trigger:"blur"}]},rules2:{fwjg:[{required:!0,message:"请输入服务报价",trigger:"blur"}]},tableData1:[],tableData2:[],query:{pageIndex:1,pageSize:10},pageTotal1:0,pageTotal2:0}},mounted:function(){this.getGoodsItems(),this.getGoodsService(),2===this.id&&this.getGoodsInfo()},methods:{back:function(){this.$emit("handleChild",!1)},getGoodsInfo:function(){var e=this,t=new FormData;t.append("xhbh",this.row.xhbh),Object(r["g"])(t).then((function(t){console.log(t),"Y"===t.result.resultFlag?e.parametersList=t.result.parametersList:e.$message.error(t.result.resultMessage)})).catch((function(t){console.log(t),void 0===t&&e.$message.error("数据请求失败")}))},handleClick:function(e,t){console.log(e,t),"0"!==e.index?("1"===e.index?(this.title="配件信息",this.$emit("titleChanged","配件信息")):"2"===e.index&&(this.title="服务信息",this.$emit("titleChanged","服务信息")),this.showRight=!1):(this.title="参数信息",this.$emit("titleChanged","参数信息"),this.showRight=!0)},getGoodsItems:function(){var e=this,t=new FormData;t.append("pmbh",this.row.pmbh),t.append("num",this.query.pageIndex),t.append("pagesize",this.query.pageSize),Object(r["h"])(t).then((function(t){console.log(t),"Y"===t.result.resultFlag?(e.tableData1=t.result.accessoryList,e.pageTotal1=t.result.count,console.log(e.tableData1)):e.$message.error(t.result.resultMessage)})).catch((function(t){console.log(t),void 0===t&&e.$message.error("数据请求失败")}))},getGoodsService:function(){var e=this,t=new FormData;t.append("pmbh",this.row.pmbh),t.append("num",this.query.pageIndex),t.append("pagesize",this.query.pageSize),Object(r["j"])(t).then((function(t){console.log(t),"Y"===t.result.resultFlag?(e.tableData2=t.result.serviceList,e.pageTotal2=t.result.count,console.log(e.tableData2)):e.$message.error(t.result.resultMessage)})).catch((function(t){console.log(t),void 0===t&&e.$message.error("数据请求失败")}))},showQuotations:function(){this.quotedItems=!0},shopQuotations:function(e,t,a){console.log(e,t,a),1===a?(this.shopPrice1.pjbh=t.PJBH,this.shopPrice1.pjmc=t.PJMC,this.quotedItems1=!0):2===a&&(this.shopPrice2.fwbh=t.FWBH,this.shopPrice2.fwmc=t.FWMC,this.shopPrice2.zt=t.ZT,this.quotedItems2=!0)},saveEdit:function(e){var t=this;console.log(this.shopPrice.sjjg,this.shopPrice.productlink),this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;t.quotedItems=!1;var a=new FormData;a.append("xhbh",t.row.xhbh),a.append("xhmc",t.row.xhmc),a.append("pmbh",t.row.pmbh),a.append("pmmc",t.row.pmmc),a.append("ppbh",t.row.ppbh),a.append("ppmc",t.row.ppmc),a.append("lbbh",t.row.lbbh),a.append("lbmc",t.row.lbmc),a.append("area","00390019"),a.append("sjjg",t.shopPrice.sjjg),a.append("fwcn",t.shopPrice.fwcn),a.append("productlink",t.shopPrice.productlink),a.append("jgsfyy",t.shopPrice.jgsfyy),Object(r["y"])(a).then((function(e){console.log(e),"Y"===e.result.resultFlag?t.$message({message:e.result.resultMessage,type:"success"}):t.$message.error(e.result)})).catch((function(e){console.log(e),void 0===e&&t.$message.error("数据请求失败")}))}))},saveEdit1:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;t.quotedItems1=!1;var a=new FormData;a.append("pmbh",t.row.pmbh),a.append("pmmc",t.row.pmmc),a.append("xhbh",t.row.xhbh),a.append("xhmc",t.row.xhmc),a.append("pjbh",t.shopPrice1.pjbh),a.append("pjmc",t.shopPrice1.pjmc),a.append("pjjg",t.shopPrice1.pjjg),a.append("bjyy",t.shopPrice1.bjyy),Object(r["x"])(a).then((function(e){console.log(e),"Y"===e.result.resultFlag?t.$message({message:e.result.resultMessage,type:"success"}):t.$message.error(e.result.resultMessage)})).catch((function(e){console.log(e),void 0===e&&t.$message.error("数据请求失败")}))}))},saveEdit2:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;t.quotedItems2=!1;var a=new FormData;a.append("pmbh",t.row.pmbh),a.append("pmmc",t.row.pmmc),a.append("xhbh",t.row.xhbh),a.append("xhmc",t.row.xhmc),a.append("fwbh",t.shopPrice2.fwbh),a.append("fwmc",t.shopPrice2.fwmc),a.append("fwjg",t.shopPrice2.fwjg),a.append("bjyy",t.shopPrice2.bjyy),a.append("zt",t.shopPrice2.zt),Object(r["z"])(a).then((function(e){console.log(e),"Y"===e.result.resultFlag?t.$message({message:e.result.resultMessage,type:"success"}):t.$message.error(e.result.resultMessage)})).catch((function(e){console.log(e),void 0===e&&t.$message.error("数据请求失败")}))}))},handlePageChange:function(e){this.$set(this.query,"pageIndex",e),this.getData()}}},o=n,i=a("4e82"),c=Object(i["a"])(o,s,l,!1,null,"56f2d525",null);t["a"]=c.exports},"21af":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.showChild?a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{staticStyle:{display:"inline-block"},attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-lx-copy"}),a("span",{staticStyle:{cursor:"pointer"},on:{click:function(t){return e.goto("/")}}},[e._v(" 首页")])]),a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-lx-calendar"}),a("span",{staticStyle:{cursor:"pointer"},on:{click:e.handleChild}},[e._v(" 订单管理")])]),a("el-breadcrumb-item",[e._v("\n          订单详情\n        ")])],1),a("div",{staticStyle:{float:"right","margin-top":"-10px"}},[2===e.row.zt?a("el-button",{attrs:{icon:"el-icon-lx-punch"},on:{click:e.verify}},[e._v("审核")]):e._e(),3===e.row.zt?a("el-button",{attrs:{icon:"el-icon-lx-roundclose"},on:{click:e.CanaelOrder}},[e._v("取消订单")]):e._e(),3===e.row.zt?a("el-select",{staticClass:"handle-select",staticStyle:{"margin-left":"10px"},attrs:{filterable:"","label-width":"130px"},on:{change:e.getOrderLogistics},model:{value:e.query.sort,callback:function(t){e.$set(e.query,"sort",t)},expression:"query.sort"}},[a("el-option",{key:"1",attrs:{label:"推送物流信息",value:"1"}}),a("el-option",{key:"2",attrs:{label:"推送签收信息",value:"2"}}),a("el-option",{key:"3",attrs:{label:"推送发票开具",value:"3"}}),a("el-option",{key:"4",attrs:{label:"发票收到时间",value:"4"}}),a("el-option",{key:"5",attrs:{label:"获取订单合同",value:"5"}}),a("el-option",{key:"6",attrs:{label:"推送订单收款",value:"6"}}),a("el-option",{key:"7",attrs:{label:"获取验证时间",value:"7"}})],1):e._e()],1)],1),a("InformationTwo",{attrs:{row:e.row},on:{handleChild:e.handleChild}}),a("el-dialog",{attrs:{title:"审核",visible:e.editVisible,width:"35%"},on:{"update:visible":function(t){e.editVisible=t}}},[a("el-form",{ref:"form",attrs:{model:e.query,"label-width":"100px",rules:e.rules}},[a("el-form-item",{attrs:{label:"审核结果：",prop:"qrzt"}},[a("el-radio-group",{model:{value:e.query.qrzt,callback:function(t){e.$set(e.query,"qrzt",t)},expression:"query.qrzt"}},[a("el-radio",{attrs:{label:"通过",value:"0"}}),a("el-radio",{attrs:{label:"不通过",value:"1"}})],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.saveEdit}},[e._v("提 交")])],1)],1),a("el-dialog",{attrs:{title:"取消订单",visible:e.cancelOrder,width:"35%"},on:{"update:visible":function(t){e.cancelOrder=t}}},[a("el-form",{attrs:{model:e.query,"label-width":"100px",rules:e.rules}},[a("el-form-item",{staticStyle:{position:"relative"},attrs:{label:"取消原因：",prop:"qxyy"}},[a("el-input",{attrs:{type:"textarea",rows:4},on:{input:e.descInput},model:{value:e.query.qxyy,callback:function(t){e.$set(e.query,"qxyy",t)},expression:"query.qxyy"}}),a("span",{staticClass:"text",staticStyle:{float:"right",color:"#909399","margin-right":"20px"}},[e._v(e._s(e.remnant)+"/300")])],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.saveCancel}},[e._v("提 交")])],1)],1),a("el-dialog",{attrs:{title:"订单收款",visible:e.orderContac,width:"35%"},on:{"update:visible":function(t){e.orderContac=t}}},[a("el-form",{ref:"form",attrs:{model:e.query,"label-width":"100px",rules:e.rules}},[a("el-form-item",{attrs:{label:"收款标志：",prop:"skbz"}},[a("el-radio-group",{model:{value:e.query.skbz,callback:function(t){e.$set(e.query,"skbz",t)},expression:"query.skbz"}},[a("el-radio",{attrs:{label:"正常收款",value:"1"}}),a("el-radio",{attrs:{label:"未收款",value:"2"}})],1)],1),a("el-form-item",{attrs:{label:"收款金额",prop:"skje"}},[a("el-input",{model:{value:e.query.skje,callback:function(t){e.$set(e.query,"skje",t)},expression:"query.skje"}})],1),a("el-form-item",{attrs:{label:"收款时间",prop:"sksj"}},[a("div",{staticClass:"block"},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:e.query.sksj,callback:function(t){e.$set(e.query,"sksj",t)},expression:"query.sksj"}})],1)])],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.saveContac}},[e._v("提 交")])],1)],1)],1):a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{staticStyle:{display:"inline-block"},attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-lx-copy"}),a("span",{staticStyle:{cursor:"pointer"},on:{click:function(t){return e.goto("/")}}},[e._v(" 首页")])]),a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-lx-calendar"}),e._v(" 订单管理\n        ")])],1)],1),a("div",{staticClass:"container"},[a("div",{staticClass:"handle-box"},[a("span",{staticClass:"block"},[a("el-date-picker",{attrs:{type:"datetimerange","picker-options":e.pickerOptions,"range-separator":"至","start-placeholder":"入库起始时间","end-placeholder":"入库结束时间",align:"right"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1),a("el-select",{staticClass:"handle-select mr10",staticStyle:{"margin-left":"10px",width:"150px"},attrs:{placeholder:"订单状态"},model:{value:e.query.zt,callback:function(t){e.$set(e.query,"zt",t)},expression:"query.zt"}},[a("el-option",{attrs:{label:"供应商待确认",value:"2"}}),a("el-option",{attrs:{label:"待验收",value:"3"}}),a("el-option",{attrs:{label:"订单已拒绝",value:"4"}}),a("el-option",{attrs:{label:"验收通过",value:"5"}}),a("el-option",{attrs:{label:"订单已取消",value:"8"}})],1),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleSearch}},[e._v("搜索")]),a("el-select",{staticClass:"handle-select mr10",staticStyle:{float:"right"},attrs:{placeholder:"默认排序"},model:{value:e.query.sort,callback:function(t){e.$set(e.query,"sort",t)},expression:"query.sort"}},[a("el-option",{key:"1",attrs:{label:"排序1",value:"排序1"}}),a("el-option",{key:"2",attrs:{label:"排序2",value:"排序2"}})],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"empty-text":e.emptyText}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.productList,(function(t){return a("el-form",{staticClass:"demo-table-expand",staticStyle:{"line-height":"16px"},attrs:{"label-position":"left"}},[e._l(e.fits,(function(t){return a("div",{key:t,staticClass:"block",staticStyle:{width:"15%",height:"100%",display:"inline-block","padding-top":"10px"}},[a("span",{staticClass:"demonstration"},[e._v(e._s(t))]),a("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:e.url,fit:t}})],1)})),a("div",{staticStyle:{width:"85%",height:"100%",display:"inline-block","margin-top":"-20px"}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"商品名称"}},[a("span",[e._v(e._s(t.PPMC))])]),a("el-form-item",{staticStyle:{width:"50%",display:"inline-block"},attrs:{label:"商品型号"}},[a("span",[e._v(e._s(t.PPBH))])]),a("el-form-item",{staticStyle:{width:"50%",display:"inline-block"},attrs:{label:"购买数量"}},[a("span",[e._v(e._s(t.SL))])]),a("el-form-item",{staticStyle:{width:"50%",display:"inline-block"},attrs:{label:"实际价格"}},[a("span",[e._v(e._s(t.SJJG))])]),a("el-form-item",{staticStyle:{width:"50%",display:"inline-block"},attrs:{label:"小计价格"}},[a("span",[e._v(e._s(t.XJJG))])])],1),a("el-divider",{staticStyle:{height:"100%"}})],2)}))}}],null,!1,2254596903)}),a("el-table-column",{attrs:{label:"订单编号",align:"center",prop:"ddbh"}}),a("el-table-column",{attrs:{label:"采购人姓名",align:"center",prop:"cgrmc"}}),a("el-table-column",{attrs:{label:"需方联系人",align:"center",prop:"xflxrxm"}}),a("el-table-column",{attrs:{label:"联系电话",align:"center",prop:"xfdh"}}),a("el-table-column",{attrs:{label:"电商名称",align:"center",prop:"ghsmc"}}),a("el-table-column",{attrs:{label:"订单总金额",align:"center",prop:"ddze"}}),a("el-table-column",{attrs:{label:"订单提交时间",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.formatDate1(t.row.cjrq)))]}}],null,!1,4251498576)}),a("el-table-column",{attrs:{label:"状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[2===t.row.zt?a("span",[e._v("供应商待确认")]):e._e(),3===t.row.zt?a("span",[e._v("待验收")]):e._e(),4===t.row.zt?a("span",[e._v("订单已拒绝")]):e._e(),5===t.row.zt?a("span",[e._v("验收通过")]):e._e(),8===t.row.zt?a("span",[e._v("订单已取消")]):e._e()]}}],null,!1,2349997520)}),a("el-table-column",{attrs:{label:"操作",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",icon:"el-icon-lx-attention"},on:{click:function(a){return e.handleLook(t.$index,t.row)}}},[e._v("查看")])]}}],null,!1,2349706352)})],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next","current-page":e.query.pageIndex,"page-size":e.query.pageSize,total:e.pageTotal},on:{"current-change":e.handlePageChange}})],1)],1)])])},l=[],r=a("365c"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{background:"#fff"}},[a("div",[a("el-row",[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple"},[a("div",{staticClass:"demo-image"},[a("div",{staticClass:"block"},[a("div",{staticStyle:{float:"left","font-size":"12px","line-height":"26px",padding:"20px"}},[a("div",[a("i",{staticClass:"el-icon-lx-calendar"}),e._v(" 订单号："+e._s(e.row.ddbh))]),a("div",[a("i",{staticClass:"el-icon-lx-people"}),e._v(" 采购人："+e._s(e.row.cgrmc))]),a("div",[a("i",{staticClass:"el-icon-lx-profile"}),e._v(" 需方联系人："+e._s(e.row.xflxrxm))]),a("div",[a("i",{staticClass:"el-icon-lx-vipcard"}),e._v(" 发票抬头："+e._s(e.row.fptt))]),a("div",[a("i",{staticClass:"el-icon-lx-time"}),e._v(" 收货时间：\n                "),0===e.row.shsj?a("span",[e._v("工作日/周末/假期均可送货")]):e._e(),1===e.row.shsj?a("span",[e._v("工作日送货")]):e._e(),2===e.row.shsj?a("span",[e._v("周末送货")]):e._e()])])])])])]),e.showRight?a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple-light"},[a("div",{staticClass:"demo-image"},[a("div",{staticClass:"block"},[a("div",{staticStyle:{float:"left","font-size":"12px","line-height":"26px",padding:"20px"}},[a("div",[a("i",{staticClass:"el-icon-lx-info"}),e._v(" 订单状态：\n                "),2===e.row.zt?a("span",[e._v("供应商待确认")]):e._e(),3===e.row.zt?a("span",[e._v("待验收")]):e._e(),4===e.row.zt?a("span",[e._v("订单已拒绝")]):e._e(),5===e.row.zt?a("span",[e._v("验收通过")]):e._e(),8===e.row.zt?a("span",[e._v("订单已取消")]):e._e()]),a("div",[a("i",{staticClass:"el-icon-lx-recharge"}),e._v(" 总金额："+e._s(e.row.ddze))]),a("div",[a("i",{staticClass:"el-icon-lx-mobile"}),e._v(" 需方电话："+e._s(e.row.xfdh))]),a("div",[a("i",{staticClass:"el-icon-lx-news"}),e._v(" 纳税人识别号："+e._s(e.row.nsrsbh))]),a("div",[a("i",{staticClass:"el-icon-lx-rank"}),e._v(" 收货期限：\n                "),0===e.row.shqx?a("span",[e._v("不限")]):e._e(),1===e.row.shqx?a("span",[e._v("一天内")]):e._e(),2===e.row.shqx?a("span",[e._v("两天内")]):e._e(),3===e.row.shqx?a("span",[e._v("三天内")]):e._e(),5===e.row.shqx?a("span",[e._v("五天内")]):e._e(),7===e.row.shqx?a("span",[e._v("七天内")]):e._e()])])])])])]):e._e(),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple"},[a("div",{staticClass:"demo-image"},[a("div",{staticClass:"block"},[a("div",{staticStyle:{float:"left","font-size":"12px","line-height":"26px",padding:"20px"}},[a("div",[a("i",{staticClass:"el-icon-lx-remind"}),e._v(" 提交时间："+e._s(e.formatDate1(e.row.cjrq)))]),a("div",[a("i",{staticClass:"el-icon-lx-shop"}),e._v(" 电商名称："+e._s(e.row.ghsmc))]),a("div",[a("i",{staticClass:"el-icon-lx-qrcode"}),e._v(" 支付方式：\n                "),"70080001"===e.row.zffs?a("span",[e._v("现金")]):e._e(),"70080002"===e.row.zffs?a("span",[e._v("公务卡结算")]):e._e(),"70080003"===e.row.zffs?a("span",[e._v("银行转账")]):e._e(),"70080004"===e.row.zffs?a("span",[e._v("银行支票")]):e._e()]),a("div",[a("i",{staticClass:"el-icon-lx-text"}),e._v(" 发票内容：\n                "),"70100001"===e.row.fpnr?a("span",[e._v("商品明细")]):e._e(),"70100002"===e.row.fpnr?a("span",[e._v("办公耗材")]):e._e(),"70100003"===e.row.fpnr?a("span",[e._v("办公用品")]):e._e()]),a("div",[a("i",{staticClass:"el-icon-lx-service"}),e._v(" 安装服务：\n                "),0===e.row.sfxyazfw?a("span",[e._v("需要安装服务")]):e._e(),1===e.row.sfxyazfw?a("span",[e._v("不需要安装服务")]):e._e()])])])])])])],1)],1),a("el-divider",[e._v("订单商品")]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"empty-text":e.emptyText}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form",{staticClass:"demo-table-expand",staticStyle:{"line-height":"16px"},attrs:{"label-position":"left"}},[a("el-divider",[e._v("商品配件")]),a("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:t.row.accessoryList,border:"","header-cell-class-name":"table-header"}},[a("el-table-column",{attrs:{prop:"PJMC",label:"配件名称",align:"center"}}),a("el-table-column",{attrs:{prop:"PJBH",label:"配件编号",align:"center"}}),a("el-table-column",{attrs:{prop:"SL",label:"配件数量",align:"center"}}),a("el-table-column",{attrs:{prop:"PJJG",label:"配件价格",align:"center"}})],1),a("el-divider",[e._v("商品服务")]),a("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:t.row.serviceList,border:"","header-cell-class-name":"table-header"}},[a("el-table-column",{attrs:{prop:"FWMC",label:"服务名称",align:"center"}}),a("el-table-column",{attrs:{prop:"FWBH",label:"服务编号",align:"center"}}),a("el-table-column",{attrs:{prop:"SL",label:"服务数量",align:"center"}}),a("el-table-column",{attrs:{prop:"FWJG",label:"服务价格",align:"center"}})],1)],1)]}}])}),a("el-table-column",{attrs:{prop:"XHMC",label:"商品型号",align:"center"}}),a("el-table-column",{attrs:{label:"商品图片",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:e.row.IMAGE}})]}}])}),a("el-table-column",{attrs:{prop:"XHBH",label:"型号编号",align:"center"}}),a("el-table-column",{attrs:{prop:"PPMC",label:"品牌名称",align:"center"}}),a("el-table-column",{attrs:{prop:"PPBH",label:"品牌编号",align:"center"}}),a("el-table-column",{attrs:{prop:"SJJG",label:"实际价格",align:"center"}}),a("el-table-column",{attrs:{prop:"SL",label:"购买数量",align:"center"}}),a("el-table-column",{attrs:{prop:"XJJG",label:"小计价格",align:"center"}}),5===e.row.zt?a("el-table-column",{attrs:{label:"上传文件",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"http://192.168.1.154:8000/hngov/goods/code","show-file-list":!1,data:e.data,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},["http://192.168.1.154:8888/"!==t.row.PIC&&t.row.PIC?a("img",{staticClass:"avatar",attrs:{src:t.row.PIC},on:{click:function(a){return e.uploadImage(t.$index,t.row)}}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon",on:{click:function(a){return e.uploadImage(t.$index,t.row)}}})])]}}],null,!1,3567421933)}):e._e()],1)],1)},o=[],i={props:["row"],data:function(){return{query:{pageIndex:1,pageSize:10},data:{ddbh:this.row.ddbh,xhbh:""},image:"",good_info:[],imageUrl:"",pageTotal:0,showImage:!0,showRight:!0,emptyText:"正在加载中...",url:"https://fuss10.elemecdn.com/e/5d/4a731a90594a4af544c0c25941171jpeg.jpeg",srcList:["https://fuss10.elemecdn.com/8/27/f01c15bb73e1ef3793e64e6b7bbccjpeg.jpeg"],activeName:"first",tableData:[]}},mounted:function(){this.getData()},methods:{handleAvatarSuccess:function(e,t){console.log(e,t),!0===e.success?(this.$message({message:e.result,type:"success"}),console.log(e.image),this.getData()):this.$message.error(e.result)},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type,a=e.size/1024/1024<1;return t||this.$message.error("上传头像图片只能是 JPG 格式!"),a||this.$message.error("上传头像图片大小不能超过 1MB!"),t&&a},back:function(){this.$emit("handleChild",!1)},formatDate1:function(e){e+="";var t=e.substring(0,4),a=e.substring(4,6),s=e.substring(6,8),l=e.substring(8,10),r=e.substring(10,12),n=e.substring(12,14);return t+"/"+a+"/"+s+" "+l+":"+r+":"+n},getData:function(){var e=this,t=new FormData;t.append("ddbh",this.row.ddbh),sessionStorage.ddbh=this.row.ddbh,Object(r["f"])(t).then((function(t){console.log(t),!0===t.success&&(e.$message({message:t.result,type:"success"}),e.tableData=t.order_list[0].productList,0===e.tableData.length&&(e.emptyText="暂无数据"))})).catch((function(e){}))},uploadImage:function(e,t){console.log(e,t),this.data.xhbh=t.XHBH},handlePageChange:function(e){this.$set(this.query,"pageIndex",e),this.getData()}}},c=i,p=(a("ed35"),a("4e82")),u=Object(p["a"])(c,n,o,!1,null,"51d2b512",null),d=u.exports,h={data:function(){return{query:{zt:"2",sort:"",qxyy:"",qrzt:"",sfcd:1,skbz:null,skje:null,pageIndex:1,pageSize:10},ztShow:!1,verifyShow:!1,CanaelOrderShow:!1,orderContac:!1,row:{},cancelOrder:!1,value:[new Date(2017,8,13,0,0,0),new Date],remnant:0,fits:["fill"],pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]},url:"https://fuss10.elemecdn.com/e/5d/4a731a90594a4af544c0c25941171jpeg.jpeg",showChild:!1,tableData:[],emptyText:"正在加载中...",multipleSelection:[],delList:[],editVisible:!1,pageTotal:0,elForm:{state:""},rules:{qrzt:[{required:!0,message:"请选择审核结果",trigger:"change"}],qxyy:[{required:!0,message:"请输入取消原因",trigger:"change"}],skbz:[{required:!0,message:"请选择收款标志",trigger:"change"}],skje:[{required:!0,message:"请选择收款金额",trigger:"change"}],sksj:[{required:!0,message:"请选择收款时间",trigger:"change"}]}}},components:{InformationTwo:d},created:function(){this.getData()},methods:{getData:function(){var e=this,t=new FormData;t.append("kssj",this.formatDate(this.value[0])),t.append("jssj",this.formatDate(this.value[1])),t.append("zt",this.query.zt),t.append("num",this.query.pageIndex),t.append("pagesize",this.query.pageSize),Object(r["u"])(t).then((function(t){console.log(t),"Y"===t.result.resultFlag?(e.tableData=t.result.orderList,e.pageTotal=t.result.count,2===e.query.zt?e.query.zt="供应商待确认":3===e.query.zt?e.query.zt="待验收":4===e.query.zt?e.query.zt="订单已拒绝":5===e.query.zt?e.query.zt="验收通过":8===e.query.zt&&(e.query.zt="订单已取消")):(e.$message.warning(t.result.resultMessage),"暂无订单"===t.result.resultMessage&&(e.emptyText="暂无订单"))})).catch((function(t){console.log(t),void 0===t&&(e.$message.error("数据请求失败"),e.emptyText="数据请求失败")}))},goto:function(e){this.$router.push(e)},descInput:function(){var e=this.query.qxyy.length;this.remnant=e},handleSearch:function(){this.tableData=[],this.$set(this.query,"pageIndex",1),this.getData()},formatDate:function(e){var t=e.getFullYear(),a=e.getMonth()+1;a=a<10?"0"+a:a;var s=e.getDate();s=s<10?"0"+s:s;var l=e.getHours();l=l<10?"0"+l:l;var r=e.getMinutes();r=r<10?"0"+r:r;var n=e.getSeconds();return n=n<10?"0"+n:n,t+""+a+s+l+r+n},formatDate1:function(e){e+="";var t=e.substring(0,4),a=e.substring(4,6),s=e.substring(6,8),l=e.substring(8,10),r=e.substring(10,12),n=e.substring(12,14);return t+"/"+a+"/"+s+" "+l+":"+r+":"+n},verify:function(){this.editVisible=!0},CanaelOrder:function(){this.cancelOrder=!0},handleLook:function(e,t){this.row=t,this.showChild=!0},handleChild:function(){this.showChild=!1,this.getData()},saveEdit:function(){var e=this;if(""!==this.query.qrzt){this.editVisible=!1,"通过"===this.query.qrzt?this.query.qrzt=0:this.query.qrzt=1;var t=new FormData;t.append("ddbh",sessionStorage.ddbh),t.append("qrzt",this.query.qrzt),this.$confirm("提交后不可再修改, 您确定提交审核操作吗?","",{confirmButtonText:"确定",type:"warning",center:!0}).then((function(){Object(r["n"])(t).then((function(t){console.log(t),!0===t.success?(e.$message({type:"success",message:t.result}),e.showChild=!1,e.tableData=[],e.query.zt="3",e.getData()):e.$message.error(t.result)})).catch((function(t){console.log(t),void 0===t&&(e.$message.error("数据请求失败"),e.emptyText="数据请求失败")}))}))}else this.$message.error("请选择审核结果")},saveCancel:function(){var e=this;if(""!==this.query.qxyy){this.cancelOrder=!1;var t=new FormData;t.append("ddbh",sessionStorage.ddbh),t.append("qxyy",this.query.qxyy),Object(r["m"])(t).then((function(t){console.log(t),!0===t.success?(e.$message({type:"success",message:t.result}),e.showChild=!1,e.tableData=[],e.query.zt="8",e.getData()):e.$message.error(t.result)})).catch((function(t){console.log(t),void 0===t&&(e.$message.error("数据请求失败"),e.emptyText="数据请求失败")}))}else this.$message.error("请输入取消原因")},getOrderLogistics:function(e){var t=this;console.log(e);var a=new FormData;"1"===e?(a.append("ddbh",sessionStorage.ddbh),a.append("sfcd",this.query.sfcd),Object(r["q"])(a).then((function(e){console.log(e),"Y"===e.result.resultFlag&&(t.$message({message:e.result.resultMessage,type:"success"}),console.log(t.query.sfcd),t.query.sfcd=0)})).catch((function(e){console.log(e),void 0===e&&(t.$message.error("数据请求失败"),t.emptyText="数据请求失败")}))):"2"===e?(a.append("ddbh",sessionStorage.ddbh),a.append("sfcd",this.query.sfcd),Object(r["s"])(a).then((function(e){console.log(e),!0===e.success&&t.$message({message:e.result,type:"success"})})).catch((function(e){console.log(e),void 0===e&&(t.$message.error("数据请求失败"),t.emptyText="数据请求失败")}))):"3"===e?(a.append("ddbh",sessionStorage.ddbh),a.append("fpsdsj",this.query.sfcd),Object(r["p"])(a).then((function(e){console.log(e),!0===e.success&&t.$message({message:e.result,type:"success"})})).catch((function(e){console.log(e),void 0===e&&(t.$message.error("数据请求失败"),t.emptyText="数据请求失败")}))):"4"===e?(a.append("ddbh",sessionStorage.ddbh),a.append("fpsdsj",this.query.sfcd),Object(r["l"])(a).then((function(e){console.log(e),!0===e.success&&t.$message({message:e.result,type:"success"})})).catch((function(e){console.log(e),void 0===e&&(t.$message.error("数据请求失败"),t.emptyText="数据请求失败")}))):"5"===e?(a.append("ddbh",sessionStorage.ddbh),Object(r["o"])(a).then((function(e){console.log(e),!0===e.success&&t.$message({message:e.result,type:"success"})})).catch((function(e){console.log(e),void 0===e&&(t.$message.error("数据请求失败"),t.emptyText="数据请求失败")}))):"6"===e?this.orderContac=!0:"7"===e&&(a.append("ddbh",sessionStorage.ddbh),Object(r["t"])(a).then((function(e){console.log(e),!0===e.success?t.$message({message:e.result,type:"success"}):t.$message.error(e.result)})).catch((function(e){console.log(e),void 0===e&&(t.$message.error("数据请求失败"),t.emptyText="数据请求失败")})))},saveContac:function(){var e=this;if(this.orderContac=!1,""!==this.query.skbz)if(""!==this.query.skje)if(""!==this.query.sksj){"正常收款"===this.query.skbz?this.query.skbz=1:this.query.skbz=2;var t=new FormData;t.append("ddbh",sessionStorage.ddbh),t.append("skbz",this.query.skbz),t.append("skje",this.query.skje),t.append("sksj",this.formatDate(this.query.sksj)),Object(r["r"])(t).then((function(t){console.log(t),!0===t.success&&e.$message({message:t.result,type:"success"})})).catch((function(t){console.log(t),void 0===t&&(e.$message.error("数据请求失败"),e.emptyText="数据请求失败")}))}else this.$message.error("请选择收款时间");else this.$message.error("请选择收款金额");else this.$message.error("请选择收款标志")},handlePageChange:function(e){this.$set(this.query,"pageIndex",e),this.tableData=[],this.getData()}}},g=h,m=(a("fde7"),Object(p["a"])(g,s,l,!1,null,"9b860cfa",null));t["default"]=m.exports},"6fa61":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.showChild?a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-lx-copy"}),a("span",{staticStyle:{cursor:"pointer"},on:{click:function(t){return e.goto("/")}}},[e._v(" 首页")])]),a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-lx-goods"}),a("span",{staticStyle:{cursor:"pointer"},on:{click:e.back}},[e._v(" 已报价商品")])]),a("el-breadcrumb-item",[e._v("\n          "+e._s(e.title)+"\n        ")])],1)],1),a("Information",{attrs:{row:e.row,id:2},on:{handleChild:e.handleChild,titleChanged:e.updateTitle}})],1):a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-lx-copy"}),a("span",{staticStyle:{cursor:"pointer"},on:{click:function(t){return e.goto("/")}}},[e._v(" 首页")])]),a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-lx-goods"}),e._v(" 已报价商品\n        ")])],1)],1),a("div",{staticClass:"container"},[a("div",{staticClass:"handle-box"},[a("el-row",[a("el-form",{attrs:{"label-position":e.labelPosition,"label-width":"80px",inline:!0,model:e.formInline}},[a("span",{staticStyle:{float:"left"}},[a("el-form-item",{attrs:{label:"品目名称"}},[a("el-select",{attrs:{placeholder:"请选择品目名称"},model:{value:e.formInline.pmmc,callback:function(t){e.$set(e.formInline,"pmmc",t)},expression:"formInline.pmmc"}},e._l(e.pmmcArr,(function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})})),1)],1),a("el-form-item",{attrs:{label:"商品状态"}},[a("el-select",{attrs:{placeholder:"请选择商品状态"},model:{value:e.formInline.state,callback:function(t){e.$set(e.formInline,"state",t)},expression:"formInline.state"}},[a("el-option",{attrs:{label:"商品待审核",value:"1"}}),a("el-option",{attrs:{label:"商品上线",value:"2"}}),a("el-option",{attrs:{label:"商品下线",value:"3"}}),a("el-option",{attrs:{label:"品牌下架",value:"11"}})],1)],1),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleSearch}},[e._v("查找")]),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleUpdate}},[e._v("重置")])],1)])],1)],1),a("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:e.tableData,"empty-text":e.emptyText,border:"","header-cell-class-name":"table-header"}},[a("el-table-column",{attrs:{label:"序号",width:"55",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.$index+1))]}}],null,!1,1428727577)}),a("el-table-column",{attrs:{prop:"xhmc",label:"型号名称",align:"center"}}),a("el-table-column",{attrs:{prop:"xhbh",label:"型号编号",align:"center"}}),a("el-table-column",{attrs:{prop:"pmmc",label:"品目名称",align:"center"}}),a("el-table-column",{attrs:{prop:"ppmc",label:"品牌名称",align:"center"}}),a("el-table-column",{attrs:{prop:"lbmc",label:"类别名称",align:"center"}}),a("el-table-column",{attrs:{prop:"sjjg",label:"我的报价",align:"center"}}),a("el-table-column",{attrs:{label:"商品状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.state?a("div",[a("span",[e._v("商品待审核")]),a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.cancelPrice(t.$index,t.row)}}},[e._v("撤销报价")])],1):e._e(),2===t.row.state?a("div",[a("span",[e._v("商品上线")])]):e._e(),3===t.row.state?a("div",[a("span",[e._v("商品下线")])]):e._e(),11===t.row.state?a("div",[a("span",[e._v("品牌下架")])]):e._e()]}}],null,!1,953471449)}),a("el-table-column",{attrs:{label:"操作",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",icon:"el-icon-lx-attention"},on:{click:function(a){return e.handleLook(t.$index,t.row)}}},[e._v("查看")]),1===t.row.zt?a("el-button",{staticClass:"red",attrs:{type:"text",icon:"el-icon-lx-top"},on:{click:function(a){return e.handlePutDown(t.$index,t.row)}}},[e._v("下架")]):e._e(),2===t.row.zt?a("el-button",{staticClass:"red",attrs:{type:"text",icon:"el-icon-lx-down"},on:{click:function(a){return e.handlePutDown(t.$index,t.row)}}},[e._v("上架")]):e._e()]}}],null,!1,745616011)})],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next","current-page":e.query.pageIndex,"page-size":e.query.pageSize,total:e.pageTotal},on:{"current-change":e.handlePageChange}})],1)],1),a("el-dialog",{attrs:{title:"下架",visible:e.editVisible,width:"30%"},on:{"update:visible":function(t){e.editVisible=t}}},[a("el-form",{ref:"form",attrs:{model:e.shelf,"label-width":"70px"}},[a("el-form-item",{attrs:{label:"下架原因",prop:"desc"}},[a("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入内容"},model:{value:e.shelf.xjyy,callback:function(t){e.$set(e.shelf,"xjyy",t)},expression:"shelf.xjyy"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.saveEdit}},[e._v("提 交")])],1)],1)],1)])},l=[],r=a("365c"),n=a("0550"),o={data:function(){return{query:{pageIndex:1,pageSize:10},emptyText:"正在加载中...",pmmcArr:[],stateArr:[],title:"参数信息",shelf:{xhbh:"",xjyy:"",zt:null},showChild:!1,labelPosition:"center",formInline:{pmmc:"",state:""},row:{},tableData:[],editVisible:!1,quotedItems:!1,pageTotal:0}},components:{Information:n["a"]},created:function(){this.getData(),this.getQuotePmmc()},activated:function(){this.getData()},methods:{getData:function(){var e=this,t=new FormData;t.append("pmmc",this.formInline.pmmc),t.append("state",this.formInline.state),Object(r["v"])(t).then((function(t){console.log(t),0===t.result.length?(e.$message({message:"暂无商品",type:"warning"}),e.emptyText="暂无商品"):(e.tableData=t.result,console.log(e.tableData),e.pageTotal=e.tableData.length)})).catch((function(t){console.log(t),void 0===t&&(e.$message.error("数据请求失败"),e.emptyText="数据请求失败")}))},goto:function(e){this.$router.push(e)},getQuotePmmc:function(){var e=this;Object(r["w"])().then((function(t){console.log(t),e.pmmcArr=t.result}))},updateTitle:function(e){this.title=e},handleSearch:function(){this.getData()},handleUpdate:function(){this.formInline.pmmc="",this.formInline.state="",this.getData()},handlePutDown:function(e,t){console.log(e,t),1===t.zt?(this.editVisible=!0,this.shelf.xhbh=t.xhbh,this.shelf.zt=2):2===t.zt&&(this.shelf.xhbh=t.xhbh,this.shelf.zt=1,this.saveEdit())},cancelPrice:function(e,t){var a=this,s=new FormData;s.append("xhbh",t.xhbh),Object(r["b"])(s).then((function(e){console.log(e),!0===e.success?a.$message({message:e.result,type:"success"}):a.$message.error(e.result)})).catch((function(e){console.log(e),void 0===e&&a.$message.error("数据请求失败")}))},saveEdit:function(){var e=this;this.editVisible=!1;var t=new FormData;t.append("xhbh",this.shelf.xhbh),t.append("zt",this.shelf.zt),t.append("xjyy",this.shelf.xjyy),Object(r["k"])(t).then((function(t){console.log(t),!0===t.success?(e.$message({message:t.result,type:"success"}),e.getData(),e.shelf.xjyy=""):e.$message.error(t.result)})).catch((function(t){console.log(t),void 0===t&&(e.$message.error("数据请求失败"),e.emptyText="数据请求失败")}))},handleLook:function(e,t){this.row=t,this.showChild=!0},handleChild:function(){this.showChild=!1},handlePageChange:function(e){this.$set(this.query,"pageIndex",e),this.getData()},back:function(){this.showChild=!1}}},i=o,c=(a("c1c9"),a("4e82")),p=Object(c["a"])(i,s,l,!1,null,"587a01ea",null);t["default"]=p.exports},"72e0":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.showChild?a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-lx-copy"}),a("span",{staticStyle:{cursor:"pointer"},on:{click:function(t){return e.goto("/")}}},[e._v(" 首页")])]),a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-lx-cascades"}),a("span",{staticStyle:{cursor:"pointer"},on:{click:e.handleChild}},[e._v(" 商品管理")])]),a("el-breadcrumb-item",[e._v("\n          "+e._s(e.title)+"\n        ")])],1)],1),a("Information",{attrs:{row:e.row,id:1},on:{handleChild:e.handleChild,titleChanged:e.updateTitle}})],1):a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-lx-copy"}),a("span",{staticStyle:{cursor:"pointer"},on:{click:function(t){return e.goto("/")}}},[e._v(" 首页")])]),a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-lx-cascades"}),e._v(" 商品管理\n        ")])],1)],1),a("div",{staticClass:"container"},[a("div",{staticClass:"handle-box"},[a("span",{staticClass:"block"},[a("el-date-picker",{attrs:{type:"datetimerange","picker-options":e.pickerOptions,"range-separator":"至","start-placeholder":"入库起始时间","end-placeholder":"入库结束时间",align:"right"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1),a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleSearch}},[e._v("搜索")])],1),a("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:e.tableData,border:"","empty-text":e.emptyText,stripe:"","header-cell-class-name":"table-header"}},[a("el-table-column",{attrs:{label:"序号",width:"60",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.$index+1))])]}}],null,!1,4178052834)}),a("el-table-column",{attrs:{prop:"pmmc",width:"180",label:"品目名称",align:"center"}}),a("el-table-column",{attrs:{label:"品目编号",width:"240",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("￥"+e._s(t.row.pmbh))]}}],null,!1,3073110276)}),a("el-table-column",{attrs:{label:"型号名称",prop:"xhmc",align:"center"}}),a("el-table-column",{attrs:{label:"品牌名称",prop:"ppmc",align:"center"}}),a("el-table-column",{attrs:{label:"类别名称",prop:"lbmc",align:"center"}}),a("el-table-column",{attrs:{label:"状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return 2===t.row.zt?[e._v("上线")]:void 0}}],null,!0)}),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",icon:"el-icon-lx-attention"},on:{click:function(a){return e.handleLook(t.$index,t.row)}}},[e._v("查看\n            ")])]}}],null,!1,3826662402)})],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next","current-page":e.goods.pagenum,"page-size":e.goods.pagesize,total:e.pagecount},on:{"current-change":e.handlePageChange}})],1)],1)])])},l=[],r=a("365c"),n=a("0550"),o={data:function(){return{query:{pageIndex:1,pageSize:10},pagecount:0,emptyText:"正在加载中...",value:[new Date(2016,8,13,0,0,0),new Date],goods:{kssj:"",jssj:"",pagenum:1,pagesize:10},row:{},title:"参数信息",showChild:!1,pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]},tableData:[]}},components:{Information:n["a"]},created:function(){this.getData()},methods:{getData:function(){var e=this,t=new FormData;t.append("kssj",this.formatDate(this.value[0])),t.append("jssj",this.formatDate(this.value[1])),t.append("pagenum",this.goods.pagenum),t.append("pagesize",this.goods.pagesize),Object(r["i"])(t).then((function(t){console.log(t),"Y"===t.result.resultFlag?(e.tableData=t.result.spList,e.pagecount=t.result.pagecount,0===e.pagecount&&(e.emptyText="暂无商品")):e.$message.error(t.result.resultMessage)})).catch((function(t){console.log(t),void 0===t&&(e.$message.error("数据请求失败"),e.emptyText="数据请求失败")}))},goto:function(e){this.$router.push(e)},updateTitle:function(e){this.title=e},handleChild:function(){this.showChild=!1,this.getData()},handleSearch:function(){this.$set(this.goods,"pagenum",1),this.tableData=[],this.getData()},formatDate:function(e){var t=e.getFullYear(),a=e.getMonth()+1;a=a<10?"0"+a:a;var s=e.getDate();s=s<10?"0"+s:s;var l=e.getHours();l=l<10?"0"+l:l;var r=e.getMinutes();r=r<10?"0"+r:r;var n=e.getSeconds();return n=n<10?"0"+n:n,t+""+a+s+l+r+n},handleLook:function(e,t){this.row=t,this.showChild=!0},handlePageChange:function(e){this.$set(this.goods,"pagenum",e),this.tableData=[],this.getData()}}},i=o,c=(a("c2ff"),a("4e82")),p=Object(c["a"])(i,s,l,!1,null,"06ce5484",null);t["default"]=p.exports},"7b16":function(e,t,a){},bd8f:function(e,t,a){},c1c9:function(e,t,a){"use strict";var s=a("f697"),l=a.n(s);l.a},c2ff:function(e,t,a){"use strict";var s=a("f97b"),l=a.n(s);l.a},ed35:function(e,t,a){"use strict";var s=a("bd8f"),l=a.n(s);l.a},f697:function(e,t,a){},f97b:function(e,t,a){},fde7:function(e,t,a){"use strict";var s=a("7b16"),l=a.n(s);l.a}}]);